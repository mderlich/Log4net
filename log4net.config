<?xml version="1.0" encoding="utf-8" ?>
<log4net>
	
	<root>
		<!--sending all logs to all appenders-->
		<level value="ALL" />
		<appender-ref ref="console" />
		<appender-ref ref="all_logs_file" />
		<appender-ref ref="important_logs_file" />
	</root>

	<!-- 
	ABOUT...
	En resumen, esta configuración creará archivos de log diarios 
	con la fecha incluida en el nombre del archivo. 
	Cada día, un nuevo archivo de log será creado con el nombre en el formato 
	nameProgram-all-YYYYMMDD.log
	Esto facilita la organización y el archivo de los logs, 
	permitiendo un seguimiento diario de los registros 
	sin sobreescribir los archivos anteriores.
	-->
	
	<!--/////////////////////////////////////////////////////-->
	<!--CONSOLA // the console appender-->
	<appender name="console" type="log4net.Appender.ConsoleAppender">
		<!--specifying the displayed layout-->
		<layout type="log4net.Layout.PatternLayout">
			<conversionPattern value="%date %level %logger - %message%newline" />
		</layout>
	</appender>

	<!--/////////////////////////////////////////////////////-->
	<!--LOG // a file appender for all logs-->
	<appender name="all_logs_file" type="log4net.Appender.RollingFileAppender">
		<!--specifying the file-->
		<file value="c:\\logs\\" />
		<datePattern value="yyyyMMdd'-all-nameProgram.log'" />
		<rollingStyle value="Date" />
		<staticLogFileName value="false" />
		<!--specifying the displayed layout-->
		<layout type="log4net.Layout.PatternLayout">
			<conversionPattern value="%date %level %logger - %message%newline" />
		</layout>
	</appender>

	<!--/////////////////////////////////////////////////////////////////-->
	<!--LOG JSON // a file appender for important logs structured in JSON-->
	<appender name="important_logs_file" type="log4net.Appender.RollingFileAppender">
		<!--specifying the file-->
		<file value="c:\\logs\\" />
		<datePattern value="yyyyMMdd'-important-nameProgram.log'" />
		<rollingStyle value="Date" />
		<staticLogFileName value="false" />
		<!--filter the low-severity logs-->
		<filter type="log4net.Filter.LevelRangeFilter">
			<param name="LevelMin" value="WARN"/>
		</filter>
		<!--json formatted log4net logging-->
		<layout type="log4net.Layout.SerializedLayout, log4net.Ext.Json">
			<decorator type="log4net.Layout.Decorators.StandardTypesDecorator, log4net.Ext.Json" />
			<member value="date:date" />
			<member value="level:level" />
			<member value="logger:logger" />
			<member value="message:messageObject" />
			<member value="exception:exception" />
		</layout>
	</appender>
	
</log4net>


